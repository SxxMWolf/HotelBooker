<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout(~{::content}, ~{})}">
<body>
    <div th:fragment="content">
        <h2 th:text="${notice != null ? '공지사항 수정' : '새 공지사항'}"></h2>
        
        <form th:action="${notice != null ? '/admin/notices/' + notice.noticeId : '/admin/notices'}" method="post" class="notice-form">
            <div class="form-group">
                <label>제목</label>
                <input type="text" name="title" th:value="${notice != null ? notice.title : ''}" required>
            </div>
            <div class="form-group">
                <label>내용</label>
                <textarea name="content" rows="10" required th:text="${notice != null ? notice.content : ''}"></textarea>
            </div>
            <div class="form-group">
                <label>타입</label>
                <select name="noticeType" required>
                    <option value="NOTICE">NOTICE</option>
                    <option value="EVENT">EVENT</option>
                    <option value="PROMOTION">PROMOTION</option>
                </select>
            </div>
            <div class="form-group">
                <label>이미지 URL</label>
                <input type="url" name="imageUrl" th:value="${notice != null ? notice.imageUrl : ''}">
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>시작일</label>
                    <input type="date" name="startDate" 
                           th:value="${notice != null && notice.startDate != null ? #temporals.format(notice.startDate, 'yyyy-MM-dd') : ''}">
                </div>
                <div class="form-group">
                    <label>종료일</label>
                    <input type="date" name="endDate" 
                           th:value="${notice != null && notice.endDate != null ? #temporals.format(notice.endDate, 'yyyy-MM-dd') : ''}">
                </div>
            </div>
            <div th:if="${notice != null}" class="form-group">
                <label>
                    <input type="checkbox" name="visible" th:checked="${notice.visible}">
                    공개
                </label>
            </div>
            <button type="submit" class="btn btn-primary">저장</button>
        </form>
    </div>
</body>
</html>

