# 🏨 호텔 예약 시스템 기획서

## 프로젝트 개요

**HotelBooker**는 호텔 운영에 필요한 모든 기능을 제공하는 통합 예약 관리 시스템입니다. 사용자 예약부터 관리자 대시보드까지, 호텔 운영의 전 과정을 디지털화했습니다.

---

## 핵심 목표

### 1. 사용자 경험 최적화
- 직관적인 객실 조회 및 예약 프로세스
- 간편한 결제 및 예약 관리
- 투명한 리뷰 시스템

### 2. 운영 효율성 향상
- 실시간 대시보드로 현황 파악
- 자동화된 객실 상태 관리
- 체계적인 예약 및 통계 관리

### 3. 데이터 무결성 보장
- 예약 중복 방지 시스템
- 법적 증빙 자료 보존 (결제 내역)
- 과거 데이터 보존 정책

---

## 주요 기능 모듈

### 👤 사용자 모듈
- **회원가입/로그인**: JWT 기반 인증
- **계정 복구**: 이메일 인증을 통한 아이디/비밀번호 찾기
- **프로필 관리**: 개인정보 수정, 비밀번호 변경

### 🏠 객실 모듈
- **객실 조회**: 타입별, 뷰별 필터링
- **가용성 확인**: 날짜별 예약 가능 여부
- **상세 정보**: 이미지, 설명, 평점, 리뷰

### 📅 예약 모듈
- **예약 생성**: 날짜, 인원 선택 후 예약
- **중복 방지**: 같은 객실의 같은 날짜 중복 예약 차단
- **예약 관리**: 조회, 취소, 상태 확인
- **예약 상태**: CONFIRMED → CHECKED_IN → CHECKED_OUT

### 💳 결제 모듈
- **결제 방법**: 카드, 계좌이체, 현금
- **결제 상태**: PENDING → PAID → REFUNDED
- **결제 내역 보존**: 법적 증빙 자료로 영구 보존

### ⭐ 리뷰 모듈
- **리뷰 작성**: 예약 완료 후 리뷰 작성 가능
- **평점 시스템**: 1-5점 평점
- **관리자 답변**: 관리자의 리뷰 답변 기능

### 📢 공지사항 모듈
- **공지 유형**: 공지사항, 이벤트, 프로모션
- **기간 설정**: 시작일/종료일 설정
- **중요 공지**: 중요 공지 상단 고정

### 👨‍💼 관리자 모듈
- **대시보드**: 실시간 통계 및 현황
- **객실 관리**: CRUD, 상태 관리
- **예약 관리**: 체크인/체크아웃 처리
- **통계 분석**: 월별/연도별 매출 및 예약 통계

---

## 비즈니스 로직 핵심

### 예약 중복 방지
같은 객실의 같은 날짜 범위에 중복 예약을 방지합니다.

**조건**:
- 날짜 범위 겹침 체크: `(checkInDate_A < checkOutDate_B) AND (checkOutDate_B > checkInDate_A)`
- 취소된 예약(`CANCELLED`)은 제외

### 객실 상태 관리
객실은 두 가지 독립적인 속성으로 관리됩니다:

1. **`available`** (활성화 여부)
   - `true`: 예약 가능
   - `false`: 비활성화 (리모델링, 장기 보수)

2. **`status`** (청소/보수 상태)
   - `CLEAN`: 청소 완료
   - `DIRTY`: 청소 필요 (체크아웃 시 자동 변경)
   - `MAINTENANCE`: 보수 중

**자동화**:
- 체크아웃 처리 시 → `DIRTY` 상태로 자동 변경
- 청소 완료는 관리자가 수동 처리

### 데이터 보존 정책
실제 호텔 운영을 고려한 데이터 보존 정책:

- **결제 내역**: 절대 삭제 불가 (법적 증빙 자료)
- **예약 내역**: 과거 예약은 보존 (회계/통계 목적)
- **리뷰**: 객실 폐쇄 시에도 보존

---

## 기술 스택 선택 이유

### 백엔드: Spring Boot
- **이유**: 엔터프라이즈급 안정성, 풍부한 생태계
- **특징**: JPA로 데이터베이스 추상화, Spring Security로 보안 강화

### 프론트엔드: React + Vite
- **이유**: 컴포넌트 기반 개발, 빠른 개발 속도
- **특징**: Vite로 빠른 HMR, Tailwind CSS로 빠른 스타일링

### 데이터베이스: PostgreSQL
- **이유**: 관계형 데이터의 무결성 보장, 트랜잭션 지원
- **특징**: 날짜 범위 제약조건 지원 가능 (향후 개선)

---

## 사용자 시나리오

### 일반 사용자
1. 회원가입 → 로그인
2. 객실 조회 (날짜 필터링)
3. 객실 선택 → 예약 정보 입력
4. 결제 처리
5. 예약 확인 (마이페이지)
6. 체크인 후 리뷰 작성

### 관리자
1. 로그인 (ADMIN 권한)
2. 대시보드에서 현황 확인
3. 오늘 체크인/체크아웃 목록 확인
4. 체크인/체크아웃 처리
5. 객실 상태 관리 (청소 완료 처리)
6. 통계 분석 및 리포트 확인

---

## 향후 개선 사항

### 단기
- [ ] 이메일 알림 기능 (예약 확인, 체크인 리마인더)
- [ ] 객실 이미지 다중 업로드
- [ ] 예약 캘린더 뷰

### 중기
- [ ] 실시간 채팅 상담
- [ ] 쿠폰/할인 시스템
- [ ] 포인트 적립 시스템

### 장기
- [ ] 모바일 앱 개발
- [ ] AI 기반 객실 추천
- [ ] 다국어 지원

---

## 프로젝트 일정

- **1단계**: 기본 기능 구현 (인증, 객실, 예약)
- **2단계**: 결제 및 리뷰 시스템
- **3단계**: 관리자 대시보드 및 통계
- **4단계**: 최적화 및 배포

---

**작성일**: 2025년 1월  
**버전**: 1.0.0

